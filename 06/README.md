«PHP-1: Введение в профессию» 
Домашняя работа №6.

.......................................................................................................................

Модифицируем предыдущее домашнее задание в соответствии с новыми знаниями:

1. Создайте класс GuestBook, который будет удовлетворять следующим требованиям:
    1.В конструктор передается путь до файла с данными гостевой книги, в нём же происходит чтение данных 
      из ней (используйте защищенное свойство объекта для хранения данных)
    2.Метод getData() возвращает массив записей гостевой книги
    3.Метод append($text) добавляет новую запись к массиву записей
    4.Метод save() сохраняет массив в файл

РЕШЕНИЕ:
Создадим папку ДЗ - '/1' и скопируем в нее папку '/1' ДЗ №4.

1. Создадим папку '/1/classes' в нее будем помещать классы.
2. Создадим класс '/1/classes/GuestBook.php' - создадим в нем содержимое, как написано (1, 2, 3, 4)

.......................................................................................................................

2.*Продумайте - какие части функционала можно вынести в базовый (родительский) класс TextFile, 
   а какие - сделать в унаследованном от него классе GuestBook

РЕШЕНИЕ:
Свойства:
public    $path ---------------- путь к файлу
protected $data_read_from_file - (массив) данные проченные из файла

Методы:
public function __construct($path) - чтение данных из переданного в путь файла 
                                     (если нужно будет читать только файл гостевой книги - то фильтр можно сделать в наследнике)
public function getData() ---------- возвращает массив записей
public function append($text) ------ добавляет новую запись
public function save() ------------- сохраняет массив (типо запись в БД)

Можно перенести все части функционала.

Создадим класс '/1/classes/TextFile.php' и вынесим в него весь функционал класса GuestBook.
Класс GuestBook будет наследовать весь функционал класса TextFile

Модернизируем файлы: '/1/index.php' и '/1/add_new_post.php' в соответствии с новыми знаниями.

.......................................................................................................................

3. Создайте класс Uploader в соответствии с требованиями:
    1.В конструктор передается имя поля формы, от которого мы ожидаем загрузку файла
    2.Метод isUploaded() проверяет - был ли загружен файл от данного имени поля
    3.Метод upload() осуществляет перенос файла (если он был загружен!) из временного места в постоянное

РЕШЕНИЕ:
Создадим папку ДЗ - '/2' и скопируем в нее папку '/2' ДЗ №4.

Создадим класс '/1/classes/Uploader.php' в соответствии с требованиями, а также
добавим в класс 'Uploader' функционал из старого фала '/2/upload.php'.

Модернизируем файлы: '/2/upload.php' в соответствии с новыми знаниями.

.......................................................................................................................

4.* Попробуйте некоторые методы заканчивать конструкцией return $this; и придумайте этому применение

РЕШЕНИЕ:
Вероятные применения:
Возвращать текст ошибок из защещенного массива ошибок - по индексу ошибки,
либо от полученного результата метода - запустить определенный защещенный метод...
и как результат вывод результата защещенного свойства или метода.

Пример:
В файле '/1/classes/TextFile.php' L19
Метод getData() возвращает массив записей гостевой книги из защещенного свойства 'data_read_from_file'

.......................................................................................................................